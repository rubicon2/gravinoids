(()=>{"use strict";var t={28:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,":root {\n    box-sizing: border-box;\n}\n\n*, *:before, *:after {\n    box-sizing: inherit;\n}\n\nbody {\n    width: 100vw;\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    background-color: rgb(0, 10, 23);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#renderCanvas {\n    width: inherit;\n    height: inherit;\n}",""]);const c=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},81:t=>{t.exports=function(t){return t[1]}},89:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var r=n(379),o=n.n(r),i=n(795),a=n.n(i),c=n(569),s=n.n(c),l=n(565),u=n.n(l),f=n(216),d=n.n(f),h=n(589),p=n.n(h),y=n(28),v={};v.styleTagTransform=p(),v.setAttributes=u(),v.insert=s().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=d(),o()(y.Z,v);const x=y.Z&&y.Z.locals?y.Z.locals:void 0},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],c=0;c<t.length;c++){var s=t[c],l=r.base?s[0]+r.base:s[0],u=i[l]||0,f="".concat(l," ").concat(u);i[l]=u+1;var d=n(f),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(h);else{var p=o(h,r);r.byIndex=c,e.splice(c,0,{identifier:f,updater:p,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var c=n(i[a]);e[c].references--}for(var s=r(t,o),l=0;l<i.length;l++){var u=n(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=s}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0,(()=>{const t=function(t,e,n){return Math.max(Math.min(n,e),t)},e=function(t,e){return t*=e=Math.pow(10,e),(t=Math.round(t))/e},r=function(t,e,n){let r=function(t,e,n){return(n-t)/(e-t)}(t,e,n);return r=(1+r%1)%1,function(t,e,n){return t+(e-t)*n}(t,e,r)},o=function(t){let e=Object.create(Object.getPrototypeOf(t));for(let n in t){let r=t[n];e[n]="object"==typeof r?o(r):r}return e},i=function(t,e){return{x:t,y:e}},a=i(0,0),c=i(1,1),s=i(0,-1),l=(i(0,1),i(-1,0),i(1,0),function(t,e){return this.create(t.x+e.x,t.y+e.y)}),u=function(t,e){return this.create(t.x*e,t.y*e)},f=function(t){let e=d(t);return i(t.x/e,t.y/e)},d=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},h=function(t,e){let n=Math.cos(p(e)),r=Math.sin(p(e));return this.create(n*t.x+-r*t.y,r*t.x+n*t.y)},p=function(t){return t*Math.PI/180},y=function(t,e,n,r){return{v1:t,v2:e,v3:n,color:r}},v=function(t,e,n){let r=window.devicePixelRatio;t.fillStyle=n,t.beginPath(),t.moveTo(e.v1.x*r,e.v1.y*r),t.lineTo(e.v2.x*r,e.v2.y*r),t.lineTo(e.v3.x*r,e.v3.y*r),t.closePath(),t.fill()},x=function(t,e,n){t.save(),t.translate(e.position.x,e.position.y),t.rotate(p(e.rotation));let r=m(n,e.scale);for(let e of r)v(t,e,e.color);t.restore()},m=function(t,e){let n=[];for(let r of t){let t=y(i(r.v1.x*e.x,r.v1.y*e.y),i(r.v2.x*e.x,r.v2.y*e.y),i(r.v3.x*e.x,r.v3.y*e.y),r.color);n.push(t)}return n};n(89);let b=null,g=null;const w=window.devicePixelRatio;let S=a,M=[],T=[],P="white",k=0,A=0,$=[{up:"KeyW",left:"KeyA",down:"KeyS",right:"KeyD",action:"KeyE"},{up:"ArrowUp",left:"ArrowLeft",down:"ArrowDown",right:"ArrowRight",action:"ShiftRight"}],C=[[y(i(-12,12),i(-6,-10),i(0,0),"yellow"),y(i(0,0),i(6,-10),i(12,12),"red"),y(i(-6,-10),i(6,-10),i(0,0),"green"),y(i(-6,-10),i(6,-10),i(0,-20),"blue")],[y(i(-12,12),i(0,-24),i(0,0),"yellow"),y(i(12,12),i(0,-24),i(0,0),"red")]];function j(e,n,r,o){return{r:t(0,255,e),g:t(0,255,n),b:t(0,255,r),a:t(0,1,o),toString:()=>`rgba(${e}, ${n}, ${r}, ${o})`}}function E(t,e){let n={transform:t,velocity:i(0,0),rotationSpeed:0,acceleration:i(0,0),mass:0,bounciness:0,collisionEnabled:e,update(){this.velocity=l(this.velocity,this.acceleration),this.transform.position=l(this.transform.position,this.velocity),this.transform.rotation=r(0,360,this.transform.rotation+this.rotationSpeed)}};return T.push(n),n}function I(e,n,r,o,a){let p=function(t,e,n,r){return{position:i(t,e),rotation:n,scale:r,forward(){return h(s,this.rotation)}}}(n,r,360*Math.random(),c);return{t:p,rb:E(p,!0),model:o,color:e,keys:a,accelerationSpeed:.2,brakingSpeed:.5,turningSpeed:.2,accelerate(t){this.rb.velocity=l(this.rb.velocity,h(i(0,-t),this.t.rotation)),d(this.rb.velocity)>5&&(this.rb.velocity=u(f(this.rb.velocity),5))},decelerate(t){this.rb.velocity=l(this.rb.velocity,h(i(0,t),this.t.rotation)),d(this.rb.velocity)>5&&(this.rb.velocity=u(f(this.rb.velocity),5))},turn(e){this.rb.rotationSpeed=t(-10,10,this.rb.rotationSpeed+=e)},action(){}}}function O(t,e){let n=o(t);n.position.x+=b.clientWidth,x(g,n,e),n.position.x-=2*b.clientWidth,x(g,n,e),n.position.x+=b.clientWidth,n.position.y-=b.clientHeight,x(g,n,e),n.position.y+=2*b.clientHeight,x(g,n,e)}function H(t){let n=t.t.position,r=t.t.forward(),o=t.rb.velocity;g.strokeStyle=P,g.fillStyle=P,g.font="24px Arial",g.beginPath(),g.moveTo(n.x,n.y),g.lineTo(n.x+r.x*w*40,n.y+r.y*w*40),g.closePath(),g.stroke(),g.arc(n.x,n.y,25*w,0,2*Math.PI),g.stroke(),g.save(),g.translate(n.x,n.y),g.fillText(`pos: ${e(n.x,0)}, ${e(n.y,0)}`,40,-30),g.fillText(`rot: ${e(t.t.rotation,0)}`,40,0),g.fillText(`f: ${e(r.x,2)}, ${e(r.y,2)}`,40,30),g.fillText(`v: ${e(o.x,2)}, ${e(o.y,2)}`,40,60),g.fillText(`rs: ${e(t.rb.rotationSpeed,2)}`,40,90),g.restore()}b=document.createElement("canvas"),b.id="renderCanvas",document.querySelector("body").appendChild(b),g=b.getContext("2d"),S=i(b.clientWidth/2,b.clientHeight/2),function(t){switch(t=Math.min(t,4),M=[],t){case 4:M.push(I(j(0,255,0,1),.5*S.x,.5*S.y,C[1],$[3]));case 3:M.push(I(j(0,0,255,1),1.5*S.x,1.5*S.y,C[0],$[2]));case 2:M.push(I(j(255,0,0,1),1.5*S.x,.5*S.y,C[1],$[1]));default:M.push(I(j(255,0,255,1),.5*S.x,1.5*S.y,C[0],$[0]))}}(2),requestAnimationFrame((function t(){k=(new Date).getTime(),function(){for(let t of T)t.update(),t.transform.position=i(r(0,b.clientWidth,t.transform.position.x),r(0,b.clientHeight,t.transform.position.y))}(),function(){!function(t,e,n,r,o){t.style.width=r+"px",t.style.height=o+"px",t.width=r*n,t.height=o*n,e.scale(n,n)}(b,g,w,b.clientWidth,b.clientHeight),g.clearRect(0,0,b.clientWidth,b.clientHeight);for(let t of M)x(g,t.t,t.model),O(t.t,t.model);k-=(new Date).getTime(),g.save(),g.strokeStyle=P,g.fillStyle=P,g.font="24px Arial",g.fillText(`${A}`,10,30),g.restore();for(let t of M)H(t)}(),requestAnimationFrame(t)})),window.addEventListener("keydown",(function(t){!function(t,e){for(let n of t){let t=n.keys;switch(e.code){case t.up:n.accelerate(n.accelerationSpeed);break;case t.down:n.decelerate(n.accelerationSpeed);break;case t.left:n.turn(-n.turningSpeed);break;case t.right:n.turn(n.turningSpeed);break;case t.action:n.action()}}}(M,t)})),setInterval((()=>{A=Math.round(1e3/Math.abs(k))}),1e3)})()})();